/* Nom version 0.0.10, @license MIT, (c) 2015 Vesa Piittinen */
!function(e,n,t,r){"use strict";function i(){return null}function o(e){e&&e.render&&"value"in e&&"oninput"in e&&(h.node!==e?(h.node=e,h.value=e.value):h.value!==e.value&&(h.value=e.value,e.oninput()))}function l(n,r,i){var u,h,m,g,v,b,N,C=r,x=[];if(null==n)return n;if((t?n instanceof Node:n.nodeType>0)&&!n.render&&(n.render=function(){var e=n.firstChild;for(i||l(n,C);e;)p.call(e.render)===d&&e.render(),e=e.nextSibling}),p.call(r)===d?r=r.bind(n)():"string"==typeof r&&123===r.charCodeAt(0)&&(r=JSON.parse(r)),"object"!=typeof r)return n;s.isArray(r)&&(r={children:r});for(h in r)if(r.hasOwnProperty(h))if(m=r[h],!y||"oninput"!==h||"oninput"in n||(n.onpropertychange=function(){"value"===e.event.propertyName&&o(n)}),"children"===h&&n.childNodes){for(v=!0,b=0,N=s.isArray(m)?f.apply([],m):[m],g=n.firstChild;g;){if(v===!0)for(;(v=N[b++])&&"string"!=typeof v&&!(t?v instanceof Node:v.nodeType>0););"string"==typeof v?(3===g.nodeType?(g.nodeValue!==v&&(g.nodeValue=v),g=g.nextSibling):n.insertBefore(c.createTextNode(v),g),v=!0):p.call(g.render)===d?v?(g!==v?n.insertBefore(v,g):g=g.nextSibling,v=!0):(x.push(g),g=g.nextSibling):g=g.nextSibling}for(;x.length;)n.removeChild(x.pop());for(;N.length>=b;)n.appendChild("string"==typeof v?c.createTextNode(v):(t?v instanceof Node:v.nodeType>0)?v:a.els(v)),v=N[b++]}else if(p.call(n[h])===d);else if("object"==typeof m)for(u in m)m.hasOwnProperty(u)&&n[h][u]!==m[u]&&(n[h][u]=m[u]);else n[h]!==m&&(n[h]=m);return n}var a={el:i,els:i,mount:i,supported:n&&r,version:"0.0.10"};if(!n||!r)return a;var s=e.Array,c=e.document,f=s.prototype.concat,d="[object Function]",p=Object.prototype.toString,u=c.createElement("div"),h={},y="all"in c&&!e.atob;"attachEvent"in c&&y&&c.attachEvent("onselectionchange",function(){o(c.activeElement)}),a.el=function(e,n,t){var r;switch(null==n&&(n={},null==t&&(t=!0)),typeof n){case"function":break;case"boolean":case"number":n=n.toString();case"string":n={children:n},null==t&&(t=!0);break;case"object":s.isArray(n)&&(n={children:n},null==t&&(t=!0));break;default:n={children:n},null==t&&(t=!0)}return"string"==typeof e&&(-1!==e.indexOf(".")?(r=e.split("."),e=c.createElement(r.shift()),e.className=r.join(" ")):e=c.createElement(e)),l(e,n,!!t)},a.els=function m(e){var n,r,i=c.createDocumentFragment(),o=0;for(e=f.apply([],arguments);e.length>o;)if(n=e[o++],t?n instanceof Node:n.nodeType>0)i.appendChild(n);else if("string"==typeof n)for(u.innerHTML=n;u.firstChild;)i.appendChild(u.firstChild);else if(s.isArray(n))i.appendChild(m.apply(this,n));else if("object"==typeof n)for(r in n)n.hasOwnProperty(r)&&i.appendChild(a.el(r,n[r],p.call(n[r])!==d));return i},a.mount=function(e){function n(){for(var e,t=i.length;t;)e=i[--t],e.parentElement?p.call(e.parentElement.render)!==d&&e.render():i.splice(t,1);i.length&&requestAnimationFrame(n)}var r,i=[],o=[],l=0;for((t?e instanceof Node&&11===e.nodeType:11===e.nodeType)||(e=a.els.apply(this,arguments));e.childNodes.length>l;)o.push(r=e.childNodes[l++]),p.call(r.render)===d&&i.push(r);return e.unmount=function(){for(i.length=0;o.length;)e.appendChild(o.shift());return e},requestAnimationFrame(n),e},"object"==typeof exports?module.exports=a:"function"==typeof define&&define.amd?define(function(){return a}):e.nom=a}(this,"document"in this,"Node"in this,"requestAnimationFrame"in this);