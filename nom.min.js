/* Nom version 0.0.8, @license MIT, (c) 2015 Vesa Piittinen */
!function(e,n,t){"use strict";function o(){return null}function r(e){e&&e.render&&"value"in e&&"oninput"in e&&(a.node!==e?(a.node=e,a.value=e.value):a.value!==e.value&&(a.value=e.value,e.oninput()))}function i(e,t,o){var c,a,u,d,f,s,h,y=t,m=[];if(null==e)return e;if((n?e instanceof Node:e.nodeType>0)&&!e.render&&(e.render=function(){var n=e.firstChild;for(o||i(e,y);n;)"[object Function]"===Object.prototype.toString.call(n.render)&&n.render(),n=n.nextSibling}),"[object Function]"===Object.prototype.toString.call(t)?t=t.bind(e)():"string"==typeof t&&123===t.charCodeAt(0)&&(t=JSON.parse(t)),"object"!=typeof t)return e;for(a in t)if(t.hasOwnProperty(a))if(u=t[a],!p||"oninput"!==a||"oninput"in e||(e.onpropertychange=function(){"value"===window.event.propertyName&&r(e)}),"children"===a&&e.childNodes){for(f=!0,s=0,h=Array.isArray(u)?Array.prototype.concat.apply([],u):[u],d=e.firstChild;d;){if(f===!0)for(;(f=h[s++])&&"string"!=typeof f&&!(n?f instanceof Node:f.nodeType>0););"string"==typeof f?(3===d.nodeType?(d.nodeValue!==f&&(d.nodeValue=f),d=d.nextSibling):e.insertBefore(document.createTextNode(f),d),f=!0):"[object Function]"===Object.prototype.toString.call(d.render)?f?(d!==f?e.insertBefore(f,d):d=d.nextSibling,f=!0):(m.push(d),d=d.nextSibling):d=d.nextSibling}for(;m.length;)e.removeChild(m.pop());for(;h.length>=s;)e.appendChild("string"==typeof f?document.createTextNode(f):(n?f instanceof Node:f.nodeType>0)?f:l.els(f)),f=h[s++]}else if("[object Function]"===Object.prototype.toString.call(e[a]));else if("object"==typeof u)for(c in u)u.hasOwnProperty(c)&&e[a][c]!==u[c]&&(e[a][c]=u[c]);else e[a]!==u&&(e[a]=u);return e}var l={el:o,els:o,mount:o,supported:e&&t,version:"0.0.8"};if(!e||!t)return l;var c=document.createElement("div"),a={},p="all"in document&&!window.atob;"attachEvent"in document&&p&&document.attachEvent("onselectionchange",function(){r(document.activeElement)}),l.el=function(e,n,t){var o;switch(null==n&&(n={},null==t&&(t=!0)),typeof n){case"function":break;case"boolean":case"number":n=n.toString();case"string":n={children:n},null==t&&(t=!0);break;case"object":Array.isArray(n)&&(n={children:n},null==t&&(t=!0));break;default:n={children:n},null==t&&(t=!0)}return"string"==typeof e&&(-1!==e.indexOf(".")?(o=e.split("."),e=document.createElement(o.shift()),e.className=o.join(" ")):e=document.createElement(e)),i(e,n,!!t)},l.els=function u(e){var t,o,r=document.createDocumentFragment(),i=0;for(e=Array.prototype.concat.apply([],arguments);e.length>i;)if(t=e[i++],n?t instanceof Node:t.nodeType>0)r.appendChild(t);else if("string"==typeof t)for(c.innerHTML=t;c.firstChild;)r.appendChild(c.firstChild);else if(Array.isArray(t))r.appendChild(u.apply(this,t));else if("object"==typeof t)for(o in t)t.hasOwnProperty(o)&&r.appendChild(l.el(o,t[o],"[object Function]"!==Object.prototype.toString.call(t[o])));return r},l.mount=function(e){function t(){for(var e,n=r.length;n;)e=r[--n],e.parentElement?"[object Function]"!==Object.prototype.toString.call(e.parentElement.render)&&e.render():r.splice(n,1);r.length&&requestAnimationFrame(t)}var o,r=[],i=[],c=0;for((n?e instanceof Node&&11===e.nodeType:11===e.nodeType)||(e=l.els.apply(this,arguments));e.childNodes.length>c;)i.push(o=e.childNodes[c++]),"[object Function]"===Object.prototype.toString.call(o.render)&&r.push(o);return e.unmount=function(){for(r.length=0;i.length;)e.appendChild(i.shift());return e},requestAnimationFrame(t),e},"object"==typeof exports?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):window.nom=l}("document"in this,"Node"in this,"requestAnimationFrame"in this);