!function(e,n,t,r){"use strict";function i(){return null}function o(e){e&&e.render&&"value"in e&&"oninput"in e&&(h.node!==e?(h.node=e,h.value=e.value):h.value!==e.value&&(h.value=e.value,e.oninput()))}function l(n,r,i){var u,h,g,m,v,b,N,C=r,A=[];if(null==n)return n;if((t?n instanceof Node:n.nodeType>0)&&!n.render&&(n.render=function(){var e=n.firstChild;for(i||l(n,C);e;)p.call(e.render)===d&&e.render(),e=e.nextSibling}),p.call(r)===d?r=r.bind(n)():"string"==typeof r&&123===r.charCodeAt(0)&&(r=JSON.parse(r)),"object"!=typeof r)return n;c.isArray(r)&&(r={children:r});for(h in r)if(r.hasOwnProperty(h))if(g=r[h],!y||"oninput"!==h||"oninput"in n||(n.onpropertychange=function(){"value"===e.event.propertyName&&o(n)}),"children"===h&&n.childNodes){for(v=!0,b=0,N=c.isArray(g)?f.apply([],g):[g],m=n.firstChild;m;){if(v===!0)for(;(v=N[b++])&&"string"!=typeof v&&!(t?v instanceof Node:v.nodeType>0););"string"==typeof v?(3===m.nodeType?(m.nodeValue!==v&&(m.nodeValue=v),m=m.nextSibling):n.insertBefore(s.createTextNode(v),m),v=!0):p.call(m.render)===d?v?(m!==v?n.insertBefore(v,m):m=m.nextSibling,v=!0):(A.push(m),m=m.nextSibling):m=m.nextSibling}for(;A.length;)n.removeChild(A.pop());for(;N.length>=b;)n.appendChild("string"==typeof v?s.createTextNode(v):(t?v instanceof Node:v.nodeType>0)?v:a.els(v)),v=N[b++]}else if(p.call(n[h])===d);else if("object"==typeof g){if(null!=n[h])for(u in g)g.hasOwnProperty(u)&&n[h][u]!==g[u]&&(n[h][u]=g[u])}else n[h]!==g&&(n[h]=g);return n}var a={el:i,els:i,mount:i,supported:n&&r,version:"0.0.11"};if(!n||!r)return a;var c=e.Array,s=e.document,f=c.prototype.concat,d="[object Function]",p=Object.prototype.toString,u=s.createElement("div"),h={},y="all"in s&&!e.atob;"attachEvent"in s&&y&&s.attachEvent("onselectionchange",function(){o(s.activeElement)}),a.el=function(e,n,t){var r,i=0;if(p.call(n)!==d)switch(null==n&&(n={}),null==t&&(t=!0),typeof n){case"object":c.isArray(n)&&(n={children:n});break;case"boolean":case"number":n=n.toString();default:n={children:n}}if("string"==typeof e)for(r=e.match(/([#.]?[^#.]+)/g),e=s.createElement(r[0]);++i<r.length;)switch(r[i].charCodeAt(0)){case 35:e.id=r[i].slice(1);break;case 46:e.className=r[i].slice(1)}return l(e,n,!!t)},a.els=function g(e){var n,r,i=s.createDocumentFragment(),o=0;for(e=f.apply([],arguments);e.length>o;)if(n=e[o++],t?n instanceof Node:n.nodeType>0)i.appendChild(n);else if("string"==typeof n)for(u.innerHTML=n;u.firstChild;)i.appendChild(u.firstChild);else if(c.isArray(n))i.appendChild(g.apply(this,n));else if("object"==typeof n)for(r in n)n.hasOwnProperty(r)&&i.appendChild(a.el(r,n[r]));return i},a.mount=function(e){function n(){for(var e,t=i.length;t;)e=i[--t],e.parentElement?p.call(e.parentElement.render)!==d&&e.render():i.splice(t,1);i.length&&requestAnimationFrame(n)}var r,i=[],o=[],l=0;for((t?e instanceof Node&&11===e.nodeType:11===e.nodeType)||(e=a.els.apply(this,arguments));e.childNodes.length>l;)o.push(r=e.childNodes[l++]),p.call(r.render)===d&&i.push(r);return e.unmount=function(){for(i.length=0;o.length;)e.appendChild(o.shift());return e},requestAnimationFrame(n),e},"object"==typeof exports?module.exports=a:"function"==typeof define&&define.amd?define(function(){return a}):e.nom=a}(this,"document"in this,"Node"in this,"requestAnimationFrame"in this);